
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación de la Unidad 2 de la materia de Arquitectura Orientada a Servicios">
      
      
        <meta name="author" content="Noe Nieto">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>Proyecto Alcancia - Arquitectura Orientada a Servicios</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Serif";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proyecto-alcancia" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Arquitectura Orientada a Servicios" class="md-header__button md-logo" aria-label="Arquitectura Orientada a Servicios" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.5 11H19V7a2 2 0 0 0-2-2h-4V3.5A2.5 2.5 0 0 0 10.5 1 2.5 2.5 0 0 0 8 3.5V5H4a2 2 0 0 0-2 2v3.8h1.5c1.5 0 2.7 1.2 2.7 2.7S5 16.2 3.5 16.2H2V20a2 2 0 0 0 2 2h3.8v-1.5c0-1.5 1.2-2.7 2.7-2.7s2.7 1.2 2.7 2.7V22H17a2 2 0 0 0 2-2v-4h1.5a2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arquitectura Orientada a Servicios
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Proyecto Alcancia
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/misaelnieto/itm_2025_soa_u2/" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorial/" class="md-tabs__link">
          
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../herramientas/webservice/" class="md-tabs__link">
          
  
  Herramientas

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link">
        
  
    
  
  Proyectos

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Arquitectura Orientada a Servicios" class="md-nav__button md-logo" aria-label="Arquitectura Orientada a Servicios" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.5 11H19V7a2 2 0 0 0-2-2h-4V3.5A2.5 2.5 0 0 0 10.5 1 2.5 2.5 0 0 0 8 3.5V5H4a2 2 0 0 0-2 2v3.8h1.5c1.5 0 2.7 1.2 2.7 2.7S5 16.2 3.5 16.2H2V20a2 2 0 0 0 2 2h3.8v-1.5c0-1.5 1.2-2.7 2.7-2.7s2.7 1.2 2.7 2.7V22H17a2 2 0 0 0 2-2v-4h1.5a2.5 2.5 0 0 0 2.5-2.5 2.5 2.5 0 0 0-2.5-2.5"/></svg>

    </a>
    Arquitectura Orientada a Servicios
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/misaelnieto/itm_2025_soa_u2/" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/winget/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 1 - Winget
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 2 - Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/repositorio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 3 - Repositorio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/uv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 4 - UV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/implementacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 5 - Implementación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 6 - Pruebas de integración
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/ruff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 7 - Analisis estatico
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/mkdocs.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 8 - Documentación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/pr.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paso 9 - Pull Request
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Herramientas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Herramientas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../herramientas/webservice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webservice
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proyectos
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="proyecto-alcancia">Proyecto Alcancia<a class="headerlink" href="#proyecto-alcancia" title="Permanent link">#</a></h1>
<h2 id="modulo-etapa_01">Módulo <code>etapa_01</code><a class="headerlink" href="#modulo-etapa_01" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-module">



<a id="webservice.nnieto.etapa_01"></a>
    <div class="doc doc-contents first">

        <p>Este módulo contiene la etapa 1 del proyecto de la Alcancía.</p>


<details class="operaciones" open>
  <summary>Operaciones</summary>
  <ul>
<li><code>saldo</code>: Devuelve el saldo actual de la alcancía.
<code>deposito</code>: Deposita una cantidad en la alcancía y devuelve el nuevo saldo.
<code>retiro</code>: Retira una cantidad de la alcancía y devuelve el nuevo saldo.
<code>movimientos</code>: Devuelve la lista de movimientos de la alcancía.</li>
</ul>
</details>        <p>En esta etapa, las operaciones de deposito y retiro simplemente devuelven el
doble y el triple de la cantidad depositada o retirada, respectivamente. No hay
ninguna lógica de negocio en estas operaciones. Solo es el esqueleto de la
alcancía.</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="webservice.nnieto.etapa_01.AlcanciaService" class="doc doc-heading">
            <code>AlcanciaService</code>


<a href="#webservice.nnieto.etapa_01.AlcanciaService" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="spyne.Service">Service</span></code></p>


        <p>Este es el servicio web de la alcancía implementado con la librería Spyne.</p>






              <details class="quote">
                <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AlcanciaService</span><span class="p">(</span><span class="n">Service</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Este es el servicio web de la alcancía implementado con la librería Spyne.&quot;&quot;&quot;</span>

    <span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">saldo</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Devuelve el saldo actual de la alcancía. Por el momento siempre devuelve 100.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">100</span>

    <span class="nd">@srpc</span><span class="p">(</span>
        <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Realiza un depósito en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">        En esta etapa solamente devuelve el doble de la cantidad depositada, pero no registra ningún tipo de movimiento.</span>

<span class="sd">        Parametros: </span>
<span class="sd">            cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</span>
<span class="sd">        Valor de retorno:</span>
<span class="sd">            La cantidad depositada multiplicada por 2. Decimal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cantidad</span> <span class="o">*</span> <span class="mi">2</span>

    <span class="nd">@srpc</span><span class="p">(</span>
        <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Realiza un retiro en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">        En esta etapa solamente devuelve el triple de la cantidad retirada, pero no registra ningún tipo de movimiento.</span>
<span class="sd">        Parametros: </span>
<span class="sd">            cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</span>

<span class="sd">        Valor de retorno:</span>
<span class="sd">            La cantidad retirada multiplicada por 2. Decimal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cantidad</span> <span class="o">*</span> <span class="mi">3</span>

    <span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Array</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">))</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">movimientos</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Devuelve la lista de movimientos de la alcancía.</span>

<span class="sd">        Por el momento siempre devuelve una lista con tres movimientos de prueba.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
            <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-02&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">200</span><span class="p">),</span>
            <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-03&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">300</span><span class="p">),</span>
        <span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_01.AlcanciaService.deposito" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">)</span></code>

<a href="#webservice.nnieto.etapa_01.AlcanciaService.deposito" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Realiza un depósito en la alcancía y devuelve el nuevo saldo.</p>
<p>En esta etapa solamente devuelve el doble de la cantidad depositada, pero no registra ningún tipo de movimiento.</p>


<details class="parametros" open>
  <summary>Parametros</summary>
  <p>cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</p>
</details>        <p>Valor de retorno:
    La cantidad depositada multiplicada por 2. Decimal</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span>
    <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realiza un depósito en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">    En esta etapa solamente devuelve el doble de la cantidad depositada, pero no registra ningún tipo de movimiento.</span>

<span class="sd">    Parametros: </span>
<span class="sd">        cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</span>
<span class="sd">    Valor de retorno:</span>
<span class="sd">        La cantidad depositada multiplicada por 2. Decimal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cantidad</span> <span class="o">*</span> <span class="mi">2</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_01.AlcanciaService.movimientos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">movimientos</span><span class="p">()</span></code>

<a href="#webservice.nnieto.etapa_01.AlcanciaService.movimientos" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Devuelve la lista de movimientos de la alcancía.</p>
<p>Por el momento siempre devuelve una lista con tres movimientos de prueba.</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Array</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">movimientos</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Devuelve la lista de movimientos de la alcancía.</span>

<span class="sd">    Por el momento siempre devuelve una lista con tres movimientos de prueba.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
        <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-02&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">200</span><span class="p">),</span>
        <span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;2021-01-03&quot;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span> <span class="n">cantidad</span><span class="o">=</span><span class="mi">300</span><span class="p">),</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_01.AlcanciaService.retiro" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">)</span></code>

<a href="#webservice.nnieto.etapa_01.AlcanciaService.retiro" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Realiza un retiro en la alcancía y devuelve el nuevo saldo.</p>
<p>En esta etapa solamente devuelve el triple de la cantidad retirada, pero no registra ningún tipo de movimiento.
Parametros: 
    cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</p>


<details class="valor-de-retorno" open>
  <summary>Valor de retorno</summary>
  <p>La cantidad retirada multiplicada por 2. Decimal</p>
</details>
            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span>
    <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realiza un retiro en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">    En esta etapa solamente devuelve el triple de la cantidad retirada, pero no registra ningún tipo de movimiento.</span>
<span class="sd">    Parametros: </span>
<span class="sd">        cantidad -- La cantidad a depositar en la alcancía. Es un número entero positivo, sin fracciones, no puede ser null</span>

<span class="sd">    Valor de retorno:</span>
<span class="sd">        La cantidad retirada multiplicada por 2. Decimal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cantidad</span> <span class="o">*</span> <span class="mi">3</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_01.AlcanciaService.saldo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">saldo</span><span class="p">()</span></code>

<a href="#webservice.nnieto.etapa_01.AlcanciaService.saldo" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Devuelve el saldo actual de la alcancía. Por el momento siempre devuelve 100.</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">saldo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Devuelve el saldo actual de la alcancía. Por el momento siempre devuelve 100.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">100</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webservice.nnieto.etapa_01.Movimiento" class="doc doc-heading">
            <code>Movimiento</code>


<a href="#webservice.nnieto.etapa_01.Movimiento" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="spyne.ComplexModel">ComplexModel</span></code></p>


        <p>Modelo que representa un retiro o un depósito en la alcancía.</p>
<p>Los depósitos tienen un valor positivo y los retiros un valor negativo.</p>






              <details class="quote">
                <summary>Source code in <code>webservice/nnieto/etapa_01.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Movimiento</span><span class="p">(</span><span class="n">ComplexModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Modelo que representa un retiro o un depósito en la alcancía.</span>

<span class="sd">    Los depósitos tienen un valor positivo y los retiros un valor negativo.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fecha</span> <span class="o">=</span> <span class="n">DateTime</span>
    <span class="n">cantidad</span> <span class="o">=</span> <span class="n">Decimal</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="modulo-etapa_02">Módulo <code>etapa_02</code><a class="headerlink" href="#modulo-etapa_02" title="Permanent link">#</a></h2>


<div class="doc doc-object doc-module">



<a id="webservice.nnieto.etapa_02"></a>
    <div class="doc doc-contents first">

        <p>Etapa 2 del proyecto de la alcancía de Noe Nieto.</p>
<p>Este módulo contiene la implementación de la etapa 2 del servicio web Alcancía.</p>
<p>En esta etapa aún no se persisten los datos en una base de datos, sino que los
movimientos se guardan en una lista en memoria. Esto nos permite simular fácilmente
el comportamiento de la alcancía sin tener que preocuparnos por la persistencia de los datos.</p>
<p>Cambios con respecto a la versión 1:</p>
<ul>
<li>Se agregaron validaciones a los parámetros de las operaciones de depósito y retiro.</li>
<li>Se define una clase Resultado para representar el resultado de las operaciones de depósito y retiro.</li>
<li>Se cambió el tipo de retorno de las operaciones de depósito y retiro a Resultado.</li>
<li>Se agregó la operación movimientos que devuelve la lista de movimientos de la alcancía.</li>
</ul>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="webservice.nnieto.etapa_02.AlcanciaService" class="doc doc-heading">
            <code>AlcanciaService</code>


<a href="#webservice.nnieto.etapa_02.AlcanciaService" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="spyne.Service">Service</span></code></p>


        <p>Este es el servicio web de la alcancía implementado con la librería Spyne.</p>






              <details class="quote">
                <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AlcanciaService</span><span class="p">(</span><span class="n">Service</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Este es el servicio web de la alcancía implementado con la librería Spyne.&quot;&quot;&quot;</span>

    <span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">saldo</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Devuelve el saldo actual de la alcancía como un número decimal.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_saldo</span><span class="p">()</span>

    <span class="nd">@srpc</span><span class="p">(</span>
        <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Resultado</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Realiza un depósito en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">        Parametros:</span>
<span class="sd">            cantidad -- La cantidad a depositar en la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</span>

<span class="sd">        Valor de retorno:</span>
<span class="sd">            Un objeto Resultado con el resultado de la operación y el saldo actual.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_movimientos_db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">cantidad</span><span class="o">=</span><span class="n">cantidad</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;Deposito exitoso&quot;</span><span class="p">,</span> <span class="n">_saldo</span><span class="p">())</span>

    <span class="nd">@srpc</span><span class="p">(</span>
        <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Resultado</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Realiza un retiro en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">        Si se intenta retirar más dinero del que hay en la alcancía, la</span>
<span class="sd">        operación falla y se devuelve un mensaje de Resultado.error(). Si el</span>
<span class="sd">        retiro es exitoso, se registra un movimiento con la cantidad negativa.</span>

<span class="sd">        Parametros:</span>
<span class="sd">            cantidad -- La cantidad a retirar de la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</span>

<span class="sd">        Valor de retorno:</span>
<span class="sd">            Un objeto Resultado con el resultado de la operación y el saldo actual.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cantidad</span> <span class="o">&gt;</span> <span class="n">_saldo</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Fondos insuficientes&quot;</span><span class="p">)</span>
        <span class="n">_movimientos_db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">cantidad</span><span class="o">=-</span><span class="n">cantidad</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;Retiro exitoso&quot;</span><span class="p">,</span> <span class="n">_saldo</span><span class="p">())</span>

    <span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Array</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">))</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">movimientos</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Devuelve la lista de movimientos de la alcancía.</span>

<span class="sd">        Valor de retorno:</span>
<span class="sd">            Un arreglo de objetos Movimiento.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_movimientos_db</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.AlcanciaService.deposito" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">)</span></code>

<a href="#webservice.nnieto.etapa_02.AlcanciaService.deposito" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Realiza un depósito en la alcancía y devuelve el nuevo saldo.</p>


<details class="parametros" open>
  <summary>Parametros</summary>
  <p>cantidad -- La cantidad a depositar en la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</p>
</details>

<details class="valor-de-retorno" open>
  <summary>Valor de retorno</summary>
  <p>Un objeto Resultado con el resultado de la operación y el saldo actual.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span>
    <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Resultado</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">deposito</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realiza un depósito en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">    Parametros:</span>
<span class="sd">        cantidad -- La cantidad a depositar en la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</span>

<span class="sd">    Valor de retorno:</span>
<span class="sd">        Un objeto Resultado con el resultado de la operación y el saldo actual.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_movimientos_db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">cantidad</span><span class="o">=</span><span class="n">cantidad</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;Deposito exitoso&quot;</span><span class="p">,</span> <span class="n">_saldo</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.AlcanciaService.movimientos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">movimientos</span><span class="p">()</span></code>

<a href="#webservice.nnieto.etapa_02.AlcanciaService.movimientos" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Devuelve la lista de movimientos de la alcancía.</p>


<details class="valor-de-retorno" open>
  <summary>Valor de retorno</summary>
  <p>Un arreglo de objetos Movimiento.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Array</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">movimientos</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Devuelve la lista de movimientos de la alcancía.</span>

<span class="sd">    Valor de retorno:</span>
<span class="sd">        Un arreglo de objetos Movimiento.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_movimientos_db</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.AlcanciaService.retiro" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">)</span></code>

<a href="#webservice.nnieto.etapa_02.AlcanciaService.retiro" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Realiza un retiro en la alcancía y devuelve el nuevo saldo.</p>
<p>Si se intenta retirar más dinero del que hay en la alcancía, la
operación falla y se devuelve un mensaje de Resultado.error(). Si el
retiro es exitoso, se registra un movimiento con la cantidad negativa.</p>


<details class="parametros" open>
  <summary>Parametros</summary>
  <p>cantidad -- La cantidad a retirar de la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</p>
</details>

<details class="valor-de-retorno" open>
  <summary>Valor de retorno</summary>
  <p>Un objeto Resultado con el resultado de la operación y el saldo actual.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span>
    <span class="n">Decimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fraction_digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_occurs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nillable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">_returns</span><span class="o">=</span><span class="n">Resultado</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">retiro</span><span class="p">(</span><span class="n">cantidad</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Realiza un retiro en la alcancía y devuelve el nuevo saldo.</span>

<span class="sd">    Si se intenta retirar más dinero del que hay en la alcancía, la</span>
<span class="sd">    operación falla y se devuelve un mensaje de Resultado.error(). Si el</span>
<span class="sd">    retiro es exitoso, se registra un movimiento con la cantidad negativa.</span>

<span class="sd">    Parametros:</span>
<span class="sd">        cantidad -- La cantidad a retirar de la alcancía. Es un número decimal positivo, con dos decimales, no puede ser null</span>

<span class="sd">    Valor de retorno:</span>
<span class="sd">        Un objeto Resultado con el resultado de la operación y el saldo actual.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">cantidad</span> <span class="o">&gt;</span> <span class="n">_saldo</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Fondos insuficientes&quot;</span><span class="p">)</span>
    <span class="n">_movimientos_db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Movimiento</span><span class="p">(</span><span class="n">fecha</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">cantidad</span><span class="o">=-</span><span class="n">cantidad</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">Resultado</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;Retiro exitoso&quot;</span><span class="p">,</span> <span class="n">_saldo</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.AlcanciaService.saldo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">saldo</span><span class="p">()</span></code>

<a href="#webservice.nnieto.etapa_02.AlcanciaService.saldo" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Devuelve el saldo actual de la alcancía como un número decimal.</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@srpc</span><span class="p">(</span><span class="n">_returns</span><span class="o">=</span><span class="n">Decimal</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">saldo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Devuelve el saldo actual de la alcancía como un número decimal.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_saldo</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webservice.nnieto.etapa_02.Movimiento" class="doc doc-heading">
            <code>Movimiento</code>


<a href="#webservice.nnieto.etapa_02.Movimiento" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="spyne.ComplexModel">ComplexModel</span></code></p>


        <p>Modelo que representa un retiro o un depósito en la alcancía.</p>
<p>Los depósitos tienen un valor positivo y los retiros un valor negativo.</p>






              <details class="quote">
                <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Movimiento</span><span class="p">(</span><span class="n">ComplexModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Modelo que representa un retiro o un depósito en la alcancía.</span>

<span class="sd">    Los depósitos tienen un valor positivo y los retiros un valor negativo.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fecha</span> <span class="o">=</span> <span class="n">DateTime</span>
    <span class="n">cantidad</span> <span class="o">=</span> <span class="n">Decimal</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webservice.nnieto.etapa_02.Resultado" class="doc doc-heading">
            <code>Resultado</code>


<a href="#webservice.nnieto.etapa_02.Resultado" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="spyne.ComplexModel">ComplexModel</span></code></p>


        <p>Representa el resultado de una operación de depósito o retiro. Opcionalmente incluye el saldo actual.</p>






              <details class="quote">
                <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Resultado</span><span class="p">(</span><span class="n">ComplexModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Representa el resultado de una operación de depósito o retiro. Opcionalmente incluye el saldo actual.&quot;&quot;&quot;</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">Unicode</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">Unicode</span>
    <span class="n">saldo</span> <span class="o">=</span> <span class="n">Decimal</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">ok</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">,</span> <span class="n">nuevo_saldo</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un objeto Resultado con status &#39;OK&#39;, un mensaje y el saldo actual.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">mensaje</span><span class="p">,</span> <span class="n">saldo</span><span class="o">=</span><span class="n">nuevo_saldo</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">error</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un objeto Resultado con status &#39;ERROR&#39; y un mensaje.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;ERROR&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">mensaje</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.Resultado.error" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">error</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#webservice.nnieto.etapa_02.Resultado.error" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Crea un objeto Resultado con status 'ERROR' y un mensaje.</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">error</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crea un objeto Resultado con status &#39;ERROR&#39; y un mensaje.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;ERROR&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">mensaje</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webservice.nnieto.etapa_02.Resultado.ok" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ok</span><span class="p">(</span><span class="n">mensaje</span><span class="p">,</span> <span class="n">nuevo_saldo</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#webservice.nnieto.etapa_02.Resultado.ok" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Crea un objeto Resultado con status 'OK', un mensaje y el saldo actual.</p>

            <details class="quote">
              <summary>Source code in <code>webservice/nnieto/etapa_02.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ok</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">,</span> <span class="n">nuevo_saldo</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crea un objeto Resultado con status &#39;OK&#39;, un mensaje y el saldo actual.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">mensaje</span><span class="p">,</span> <span class="n">saldo</span><span class="o">=</span><span class="n">nuevo_saldo</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.path", "toc.integrate", "navigation.top"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>